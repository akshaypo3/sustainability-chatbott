    - name: Deploy to SAP AI Core
      env:
        SAP_CLIENT_ID: ${{ secrets.SAP_CLIENT_ID }}
        SAP_CLIENT_SECRET: ${{ secrets.SAP_CLIENT_SECRET }}
        SAP_AUTH_URL: ${{ secrets.SAP_AUTH_URL }}
        SAP_API_URL: ${{ secrets.SAP_API_URL }}
      run: |
        # 1. Get access token
        TOKEN=$(curl -s --request POST \
          --url "$SAP_AUTH_URL/oauth/token" \
          --header "Content-Type: application/x-www-form-urlencoded" \
          --data "grant_type=client_credentials&client_id=$SAP_CLIENT_ID&client_secret=$SAP_CLIENT_SECRET" \
          | jq -r .access_token)

        # 2. Deploy serving.yaml to AI Core
        curl -X POST "$SAP_API_URL/v2/deployments" \
          -H "Authorization: Bearer $TOKEN" \
          -H "Content-Type: multipart/form-data" \
          -F "file=@sap-deployment/serving.yaml"
